<div class="steam-bg">
  <div class="wrapper">
    <h1 style="color:rgb(221, 151, 151); font-weight: bold;font-size: 20px;margin-bottom: 30px;">Danh sách yêu thích</h1>
    <div class="grid">
      <article class="game-card" *ngFor="let g of listWishlist.Wishlist">
        <div class="cover">
          <img [src]="g.CoverImagePath" [alt]="g.Title" />
        </div>
        <div class="meta">
          <h3 class="title">{{ g.Title }}</h3>
          <div class="genre">{{ g.Genre }}</div>
          <div class="actions">
            <button class="btn ghost" (click)="openModal(g)">Xem thông tin</button>
            <button class="add-to-cart-btn" (click)="addToCart(g.Id)">Thêm vào giỏ</button>
          </div>
        </div>
      </article>
    </div>
  </div>
</div>

<!-- Modal -->
<div class="modal-backdrop" *ngIf="isModalOpen" (click)="closeModal()"></div>
<div class="modal" *ngIf="isModalOpen">
  <div class="modal-content">
    <span class="close-btn" (click)="closeModal()">×</span>
    <img class="modal-cover" [src]="selectedGame?.CoverImagePath" />
    <h2>{{ selectedGame?.Title }}</h2>
    <p class="modal-genre">{{ selectedGame?.Genre }}</p>
    <p>{{ selectedGame?.Description }}</p>
    <p class="modal-price">Giá: {{ selectedGame?.Price | number }} ₫</p>
    <button class="btn primary">Tải xuống</button>
  </div>
</div>
<div *ngIf="showAddToCartDialog" class="dialog-backdrop" (click)="closeAddToCartDialog()">
  <div class="dialog-panel" (click)="$event.stopPropagation()">
    <h3 class="dialog-title">Đã thêm vào giỏ hàng</h3>
    <p class="dialog-content">Sản phẩm đã được thêm vào giỏ hàng của bạn.</p>
    <div class="dialog-actions">
      <button class="dialog-btn secondary" (click)="continueShopping()">Tiếp tục mua sắm</button>
      <button class="dialog-btn primary" (click)="viewCart()">Xem giỏ hàng</button>
    </div>
  </div>
</div>