<div class="p-6 max-w-6xl mx-auto">
  <!-- Card wrapper -->
  <div class="rounded-3xl shadow-2xl overflow-hidden bg-white/90 backdrop-blur-md">
    <!-- Hero header -->
    <div class="p-8 bg-gradient-to-br from-[#3d224a] to-[#1b2838] text-white">
      <h1 class="text-3xl font-extrabold tracking-tight">Y√™u c·∫ßu ho√†n ti·ªÅn</h1>
      <p class="mt-2 text-white/80">Theo d√µi v√† x·ª≠ l√Ω c√°c y√™u c·∫ßu ho√†n ti·ªÅn c·ªßa kh√°ch h√†ng.</p>
    </div>

    <!-- Empty state -->
    <div *ngIf="listRefunds.length === 0" class="p-16 text-center">
      <div class="mx-auto mb-4 flex h-16 w-16 items-center justify-center rounded-2xl bg-gray-100 shadow-inner">
        <span class="text-3xl">üßæ</span>
      </div>
      <h2 class="text-xl font-semibold text-gray-800">Ch∆∞a c√≥ ƒë∆°n h√†ng</h2>
      <p class="mt-1 text-gray-500">Khi c√≥ y√™u c·∫ßu ho√†n ti·ªÅn, d·ªØ li·ªáu s·∫Ω hi·ªÉn th·ªã t·∫°i ƒë√¢y.</p>
    </div>

    <!-- Table -->
    <div *ngIf="listRefunds.length > 0" class="p-6">
      <div class="relative overflow-x-auto rounded-2xl border border-gray-200 shadow">
        <table class="min-w-full bg-white">
          <thead class="bg-gray-50/80 backdrop-blur supports-[backdrop-filter]:bg-white/60 sticky top-0 z-10">
            <tr class="text-left text-gray-600 text-sm">
              <th class="px-6 py-4 font-semibold">M√£ ƒê∆°n H√†ng</th>
              <th class="px-6 py-4 font-semibold">Ng√†y Mua</th>
              <th class="px-6 py-4 font-semibold">S·ªë Ti·ªÅn</th>
              <th class="px-6 py-4 font-semibold">Ghi ch√∫</th>
              <th class="px-6 py-4 font-semibold text-right">H√†nh ƒê·ªông</th>
            </tr>
          </thead>
          <tbody class="divide-y divide-gray-100">
            <tr
              *ngFor="let order of pagedRefunds; let i = index"
              class="hover:bg-gray-50 transition-colors"
            >
              <td class="px-6 py-4">
                <div class="flex items-center gap-2">
                  <span class="font-medium text-gray-800">{{ order.StoreOrder.Id }}</span>
                </div>
              </td>

              <td class="px-6 py-4 text-gray-700">
                {{ order.requestDate | date: 'dd/MM/yyyy, HH:mm a' }}
              </td>

              <td class="px-6 py-4">
                <span class="font-semibold text-gray-900">{{ order.StoreOrder.TotalAmount | number:'1.0-0' }} ƒë</span>
              </td>

              <td class="px-6 py-4 text-gray-700">
                <span class="line-clamp-2">{{ order.reason || '‚Äî' }}</span>
              </td>

              <td class="px-6 py-4" *ngIf="order.Status === 'pending'">
                <div class="flex items-center justify-end gap-2">
                  <button
                    class="inline-flex items-center gap-2 rounded-xl px-4 py-2 text-sm font-medium text-white bg-emerald-600 hover:bg-emerald-700 active:scale-[.98] transition"
                    (click)="onApprove(order)"
                  >
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" viewBox="0 0 24 24" fill="currentColor"><path d="M9 16.2 4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4z"/></svg>
                    Ch·∫•p nh·∫≠n
                  </button>

                  <button
                    class="inline-flex items-center gap-2 rounded-xl px-4 py-2 text-sm font-medium text-white bg-rose-600 hover:bg-rose-700 active:scale-[.98] transition"
                    (click)="onReject(order)"
                  >
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" viewBox="0 0 24 24" fill="currentColor"><path d="M18.3 5.71 12 12.01l-6.3-6.3-1.4 1.41L10.6 13.4l-6.3 6.3 1.41 1.41 6.3-6.3 6.3 6.3 1.41-1.41-6.3-6.3 6.3-6.3z"/></svg>
                    T·ª´ ch·ªëi
                  </button>
                </div>
              </td>
              <td class="px-6 py-4" *ngIf="order.Status === 'Approved' || order.Status === 'Rejected'">
                <span class="font-medium text-green-500" *ngIf="order.Status === 'Approved'">ƒê√£ ch·∫•p nh·∫≠n</span>
                <span class="font-medium text-red-500" *ngIf="order.Status === 'Rejected'">ƒê√£ t·ª´ ch·ªëi</span>
              </td>
            </tr>
          </tbody>
        </table>
      </div>

      <!-- Pagination -->
      <div class="mt-4 flex items-center justify-between text-sm text-gray-500">
        <span>T·ªïng: <strong class="text-gray-800">{{ listRefunds.length }}</strong> y√™u c·∫ßu</span>
        <div class="flex gap-2">
          <button
            class="px-4 py-2 text-sm font-semibold text-gray-600 hover:bg-gray-100"
            (click)="changePage(currentPage - 1)"
            [disabled]="currentPage === 1"
          >
            Trang tr∆∞·ªõc
          </button>
          <span class="px-4 py-2 text-sm text-gray-700">{{ currentPage }} / {{ totalPages }}</span>
          <button
            class="px-4 py-2 text-sm font-semibold text-gray-600 hover:bg-gray-100"
            (click)="changePage(currentPage + 1)"
            [disabled]="currentPage === totalPages"
          >
            Trang sau
          </button>
        </div>
      </div>
    </div>
  </div>
</div>
